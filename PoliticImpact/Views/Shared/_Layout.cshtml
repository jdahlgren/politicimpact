<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>@ViewBag.Title</title>
        <meta name="viewport" content="width=device-width" />
        <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
        @Styles.Render("~/Content/mobileCss", "~/Content/css")
        @Scripts.Render("~/bundles/modernizr")
        @RenderSection("head", false)
    </head>
    <body>
        <div data-role="page" data-theme="b">
            <div data-role="header">
                @if (IsSectionDefined("Header")) {
                    @RenderSection("Header")
                } else {
                    <h1>@ViewBag.Title</h1>
                    //@Html.Partial("_LoginPartial")
                }
            </div>
            <div data-role="content">
                @RenderBody()
            </div>
        </div>

        @Scripts.Render("~/bundles/jquery", "~/bundles/jquerymobile")
        @RenderSection("scripts", required: false)
        <style type="text/css">body {min-height: 480px;}</style>

<script type="text/javascript">
    /*
      * Normalized hide address bar for iOS & Android
    */
    (function (win) {
        var doc = win.document;

        // If there's a hash, or addEventListener is undefined, stop here
        if (!location.hash && win.addEventListener) {

            //scroll to 1
            window.scrollTo(0, 1);
            var scrollTop = 1,
                getScrollTop = function () {
                    return win.pageYOffset || doc.compatMode === "CSS1Compat" && doc.documentElement.scrollTop || doc.body.scrollTop || 0;
                },

                //reset to 0 on bodyready, if needed
                bodycheck = setInterval(function () {
                    if (doc.body) {
                        clearInterval(bodycheck);
                        scrollTop = getScrollTop();
                        win.scrollTo(0, scrollTop === 1 ? 0 : 1);
                    }
                }, 15);

            win.addEventListener("load", function () {
                setTimeout(function () {
                    //at load, if user hasn't scrolled more than 20 or so...
                    if (getScrollTop() < 20) {
                        //reset to hide addr bar at onload
                        win.scrollTo(0, scrollTop === 1 ? 0 : 1);
                    }
                }, 0);
            });
        }
    })(this);
</script>

    </body>
</html>
